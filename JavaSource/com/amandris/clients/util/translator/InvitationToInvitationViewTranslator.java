package com.amandris.clients.util.translator;import java.util.Calendar;import com.amandris.clients.service.vo.Invitation;import com.amandris.clients.util.DBUtils;import com.amandris.clients.util.exception.TranslateValueObjectErrorException;import com.amandris.clients.web.view.InvitationView;public class InvitationToInvitationViewTranslator extends Translator {	public Object translateView() throws TranslateValueObjectErrorException	{		InvitationView 	invitationView 	= new InvitationView();		Invitation		invitation		= ( Invitation) object;				try{			invitationView.setId					( DBUtils.controlNull( invitation.getId()));			invitationView.setBuyerVisible			( DBUtils.controlNull( invitation.getBuyerVisible()));			invitationView.setSellerVisible			( DBUtils.controlNull( invitation.getSellerVisible()));			invitationView.setBuyerId				( DBUtils.controlNull( invitation.getBuyerId()));			invitationView.setBuyerLogin			( DBUtils.controlNull( invitation.getBuyer().getLogin()));			invitationView.setBuyerBriefLogin		( DBUtils.briefString( invitation.getBuyer().getLogin(), 30));			invitationView.setDate					( DBUtils.getDate( invitation.getDate(), 3));			invitationView.setExpirationDate		( DBUtils.getDate( invitation.getExpirationDate(), 3));			invitationView.setIsFreeContact			( DBUtils.controlNull( invitation.getIsFreeContact()));			invitationView.setFreeContactUsed		( DBUtils.controlNull( invitation.getFreeContactUsed()));			invitationView.setText					( DBUtils.controlNull( invitation.getText()));			invitationView.setSellerId				( DBUtils.controlNull( invitation.getSellerId()));			invitationView.setSellerLogin			( DBUtils.controlNull( invitation.getSeller().getLogin()));			invitationView.setSellerBriefLogin		( DBUtils.briefString( invitation.getSeller().getLogin(), 30));						if( invitation.getExpirationDate().after( Calendar.getInstance( locale).getTime()))				invitationView.setExpired( "0");			else				invitationView.setExpired( "1");							}catch( Exception e) {			throw new TranslateValueObjectErrorException( object.getClass().getName(), invitationView.getClass().getName(), e);		}				return invitationView;	}}