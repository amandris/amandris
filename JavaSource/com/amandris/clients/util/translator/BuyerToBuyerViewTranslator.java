package com.amandris.clients.util.translator;import com.amandris.clients.service.vo.Buyer;import com.amandris.clients.util.ConfigurationParameterManager;import com.amandris.clients.util.DBUtils;import com.amandris.clients.util.exception.TranslateValueObjectErrorException;import com.amandris.clients.web.view.BuyerView;public class BuyerToBuyerViewTranslator extends Translator {	public Object translateView() throws TranslateValueObjectErrorException	{		BuyerView 	buyerView 		= new BuyerView();		Buyer		buyer			= ( Buyer) object;		int			pictureCount	= 0;		String		language		= "";				try{			if( buyer.getTextActive().intValue() == 1) {				buyerView.setAddress1					( DBUtils.controlNull( buyer.getAddress1()));				buyerView.setAddress2					( DBUtils.controlNull( buyer.getAddress2()));				buyerView.setCity						( DBUtils.controlNull( buyer.getCity()));				buyerView.setBriefCity					( DBUtils.briefString( buyer.getCity(), 15));				buyerView.setIntro						( DBUtils.controlNull( buyer.getIntro()));				buyerView.setBriefIntro					( DBUtils.briefString( buyer.getIntro(), 25));				buyerView.setPostalCode					( DBUtils.controlNull( buyer.getPostalCode()));				buyerView.setPreferredText				( DBUtils.controlNull( buyer.getPreferredText()));				buyerView.setText						( DBUtils.controlNull( buyer.getText()));				buyerView.setBriefText					( DBUtils.briefString( buyer.getText(), 100));			} else {				buyerView.setAddress1					( ConfigurationParameterManager.getMessages().getMessage( locale, "common.waitingForRevision"));				buyerView.setAddress2					( "");				buyerView.setCity						( ConfigurationParameterManager.getMessages().getMessage( locale, "common.waitingForRevision"));				buyerView.setBriefCity					( ConfigurationParameterManager.getMessages().getMessage( locale, "common.briefWaitingForRevision"));				buyerView.setIntro						( ConfigurationParameterManager.getMessages().getMessage( locale, "common.waitingForRevision"));				buyerView.setBriefIntro					( ConfigurationParameterManager.getMessages().getMessage( locale, "common.briefWaitingForRevision"));				buyerView.setPostalCode					( ConfigurationParameterManager.getMessages().getMessage( locale, "common.briefWaitingForRevision"));				buyerView.setPreferredText				( ConfigurationParameterManager.getMessages().getMessage( locale, "common.waitingForRevision"));				buyerView.setText						( ConfigurationParameterManager.getMessages().getMessage( locale, "common.waitingForRevision"));				buyerView.setBriefText					( ConfigurationParameterManager.getMessages().getMessage( locale, "common.briefWaitingForRevision"));			}						buyerView.setId							( DBUtils.controlNull( buyer.getId()));			buyerView.setAge						( Integer.toString( DBUtils.getAge( buyer.getBirthdate(), locale)));			buyerView.setBreastSize					( ConfigurationParameterManager.getMessages().getMessage( locale, "breastSize." + DBUtils.controlNull( buyer.getBreastSizeConst())));			buyerView.setContactsSent				( DBUtils.controlNull( buyer.getContactsSent()));			buyerView.setContactsAccepted			( DBUtils.controlNull( buyer.getContactsAccepted()));			buyerView.setContactsNotReplied			( DBUtils.controlNull( buyer.getContactsNotReplied()));			buyerView.setContactsRejected			( DBUtils.controlNull( buyer.getContactsRejected()));			buyerView.setCountry					( ConfigurationParameterManager.getMessages().getMessage( locale, "country." + DBUtils.controlNull( buyer.getCountry().getText())));			buyerView.setCountryId					( buyer.getCountryId());			buyerView.setIsPublic					( DBUtils.controlNull( buyer.getIsPublic()));			buyerView.setDatesCanceled 				( DBUtils.controlNull( buyer.getDatesCanceled()));			buyerView.setEducationLevel				( ConfigurationParameterManager.getMessages().getMessage( locale, "educationLevel." + DBUtils.controlNull( buyer.getEducationLevelConst())));			buyerView.setEyeColor					( ConfigurationParameterManager.getMessages().getMessage( locale, "eyeColor." + DBUtils.controlNull( buyer.getEyeColorConst())));			buyerView.setHairColor					( ConfigurationParameterManager.getMessages().getMessage( locale, "hairColor." + DBUtils.controlNull( buyer.getHairColorConst())));			buyerView.setHairLength					( ConfigurationParameterManager.getMessages().getMessage( locale, "hairLength." + DBUtils.controlNull( buyer.getHairLengthConst())));			buyerView.setHasPicture					( DBUtils.controlNull( buyer.getHasPicture()));			buyerView.setHeight						( ConfigurationParameterManager.getMessages().getMessage( locale, "height." + DBUtils.controlNull( buyer.getHeightConst())));			buyerView.setIsOnLine					( DBUtils.controlNull( buyer.getIsOnLine()));			buyerView.setLastLoginDate				( DBUtils.getDate( buyer.getLastLogin()));			buyerView.setLastLoginTime				( DBUtils.getTime( buyer.getLastLogin()));			buyerView.setLogin						( DBUtils.controlNull( buyer.getLogin()));			buyerView.setBriefLogin					( DBUtils.briefString( buyer.getLogin(), 15));						buyerView.setName						( DBUtils.controlNull( buyer.getName()));			buyerView.setNegativeVotes				( DBUtils.controlNull( buyer.getNegativeVotes()));			buyerView.setOrientation				( ConfigurationParameterManager.getMessages().getMessage( locale, "orientation." + DBUtils.controlNull( buyer.getOrientationConst())));			buyerView.setOrigin						( ConfigurationParameterManager.getMessages().getMessage( locale, "origin." + DBUtils.controlNull( buyer.getOriginConst())));			buyerView.setPaypalAccount				( DBUtils.controlNull( buyer.getPaypalAccount()));			buyerView.setPennisSize					( ConfigurationParameterManager.getMessages().getMessage( locale, "pennisSize." + DBUtils.controlNull( buyer.getPennisSizeConst())));			buyerView.setPhoneNumberCall			( DBUtils.controlNull( buyer.getPhoneNumberCall()));			buyerView.setPhoneNumberSMS				( DBUtils.controlNull( buyer.getPhoneNumberSMS()));			buyerView.setPhysique					( ConfigurationParameterManager.getMessages().getMessage( locale, "physique." + DBUtils.controlNull( buyer.getPhysiqueConst())));			buyerView.setPicture1					( DBUtils.controlNull( buyer.getPicture1()));			buyerView.setPicture2					( DBUtils.controlNull( buyer.getPicture2()));			buyerView.setPicture3					( DBUtils.controlNull( buyer.getPicture3()));			buyerView.setPicture4					( DBUtils.controlNull( buyer.getPicture4()));			buyerView.setPicture5					( DBUtils.controlNull( buyer.getPicture5()));			buyerView.setPicture1Waiting			( DBUtils.controlNull( buyer.getPicture1Waiting()));			buyerView.setPicture2Waiting			( DBUtils.controlNull( buyer.getPicture2Waiting()));			buyerView.setPicture3Waiting			( DBUtils.controlNull( buyer.getPicture3Waiting()));			buyerView.setPicture4Waiting			( DBUtils.controlNull( buyer.getPicture4Waiting()));			buyerView.setPicture5Waiting			( DBUtils.controlNull( buyer.getPicture5Waiting()));						buyerView.setMainPictureCode			( DBUtils.controlNull( buyer.getMainPictureCode()));			buyerView.setMainPicture				( DBUtils.controlNull( buyer.getMainPicture()));			buyerView.setPositiveVotes				( DBUtils.controlNull( buyer.getPositiveVotes()));			buyerView.setPreferredAgeHigh			( DBUtils.controlNull( buyer.getPreferredAgeHigh()));			buyerView.setPreferredAgeLow			( DBUtils.controlNull( buyer.getPreferredAgeLow()));			buyerView.setPreferredBreastSize		( ConfigurationParameterManager.getMessages().getMessage( locale, "breastSize." + DBUtils.controlNull( buyer.getPreferredBreastSizeConst())));			buyerView.setPreferredEducationLevel	( ConfigurationParameterManager.getMessages().getMessage( locale, "educationLevel." + DBUtils.controlNull( buyer.getPreferredEducationLevelConst())));			buyerView.setPreferredEyeColor			( ConfigurationParameterManager.getMessages().getMessage( locale, "eyeColor." + DBUtils.controlNull( buyer.getPreferredEyeColorConst())));			buyerView.setPreferredHairColor			( ConfigurationParameterManager.getMessages().getMessage( locale, "hairColor." + DBUtils.controlNull( buyer.getPreferredHairColorConst())));			buyerView.setPreferredHairLength		( ConfigurationParameterManager.getMessages().getMessage( locale, "hairLength." + DBUtils.controlNull( buyer.getPreferredHairLengthConst())));			buyerView.setPreferredHeight			( ConfigurationParameterManager.getMessages().getMessage( locale, "height." + DBUtils.controlNull( buyer.getPreferredHeightConst())));			buyerView.setPreferredLanguage			( ConfigurationParameterManager.getMessages().getMessage( locale, "language." + DBUtils.controlNull( buyer.getPreferredLanguageConst())));			buyerView.setPreferredOrientation		( ConfigurationParameterManager.getMessages().getMessage( locale, "orientation." + DBUtils.controlNull( buyer.getPreferredOrientationConst())));			buyerView.setPreferredOrigin			( ConfigurationParameterManager.getMessages().getMessage( locale, "origin." + DBUtils.controlNull( buyer.getPreferredOriginConst())));			buyerView.setPreferredPennisSize		( ConfigurationParameterManager.getMessages().getMessage( locale, "pennisSize." + DBUtils.controlNull( buyer.getPreferredPennisSizeConst())));			buyerView.setPreferredPhysique			( ConfigurationParameterManager.getMessages().getMessage( locale, "physique." + DBUtils.controlNull( buyer.getPreferredPhysiqueConst())));			buyerView.setPreferredSex				( ConfigurationParameterManager.getMessages().getMessage( locale, "sex." + DBUtils.controlNull( buyer.getPreferredSexConst())));			buyerView.setPreferredSkinColor			( ConfigurationParameterManager.getMessages().getMessage( locale, "skinColor." + DBUtils.controlNull( buyer.getPreferredSkinColorConst())));			buyerView.setPreferredSmoker			( ConfigurationParameterManager.getMessages().getMessage( locale, "smoker." + DBUtils.controlNull( buyer.getPreferredSmokerConst())));			buyerView.setPreferredBreastSizeConst	( DBUtils.controlNull( buyer.getPreferredBreastSizeConst()));			buyerView.setPreferredEducationLevelConst(DBUtils.controlNull( buyer.getPreferredEducationLevelConst()));			buyerView.setPreferredEyeColorConst		( DBUtils.controlNull( buyer.getPreferredEyeColorConst()));			buyerView.setPreferredHairColorConst	( DBUtils.controlNull( buyer.getPreferredHairColorConst()));			buyerView.setPreferredHairLengthConst	( DBUtils.controlNull( buyer.getPreferredHairLengthConst()));			buyerView.setPreferredHeightConst		( DBUtils.controlNull( buyer.getPreferredHeightConst()));			buyerView.setPreferredLanguageConst		( DBUtils.controlNull( buyer.getPreferredLanguageConst()));			buyerView.setPreferredOrientationConst	( DBUtils.controlNull( buyer.getPreferredOrientationConst()));			buyerView.setPreferredOriginConst		( DBUtils.controlNull( buyer.getPreferredOriginConst()));			buyerView.setPreferredPennisSizeConst	( DBUtils.controlNull( buyer.getPreferredPennisSizeConst()));			buyerView.setPreferredPhysiqueConst		( DBUtils.controlNull( buyer.getPreferredPhysiqueConst()));			buyerView.setPreferredSexConst			( DBUtils.controlNull( buyer.getPreferredSexConst()));			buyerView.setPreferredSkinColorConst	( DBUtils.controlNull( buyer.getPreferredSkinColorConst()));			buyerView.setPreferredSmokerConst		( DBUtils.controlNull( buyer.getPreferredSmokerConst()));			buyerView.setSex						( ConfigurationParameterManager.getMessages().getMessage( locale, "sex." + DBUtils.controlNull( buyer.getSexConst())));			buyerView.setSexId						( DBUtils.controlNull( buyer.getSexConst()));			buyerView.setSkinColor					( ConfigurationParameterManager.getMessages().getMessage( locale, "skinColor." + DBUtils.controlNull( buyer.getSkinColorConst())));			buyerView.setSkypeAccount				( DBUtils.controlNull( buyer.getSkypeAccount()));			buyerView.setSmoker						( ConfigurationParameterManager.getMessages().getMessage( locale, "smoker." + DBUtils.controlNull( buyer.getSmokerConst())));			buyerView.setState						( ConfigurationParameterManager.getMessages().getMessage( locale, "state." + DBUtils.controlNull( buyer.getState().getText())));			buyerView.setStateId					( buyer.getStateId());			buyerView.setSurname					( DBUtils.controlNull( buyer.getSurname()));			buyerView.setViews						( DBUtils.controlNull( buyer.getViews()));			buyerView.setLastLoginFrom				( ConfigurationParameterManager.getMessages().getMessage( locale, "timeTypeFrom." + DBUtils.getTimeFromType( buyer.getLastLogin(), locale, true), Integer.toString( DBUtils.getTimeFrom( buyer.getLastLogin(), locale, true))));			buyerView.setPreferencesSaved			( DBUtils.controlNull( buyer.getPreferencesSaved()));			buyerView.setPicturesSaved				( DBUtils.controlNull( buyer.getPicturesSaved()));						if( buyer.getLanguage1Const().intValue() != 0)				language = language + ConfigurationParameterManager.getMessages().getMessage( locale, "language." + DBUtils.controlNull( buyer.getLanguage1Const())) + ", ";			if( buyer.getLanguage2Const().intValue() != 0)				language = language + ConfigurationParameterManager.getMessages().getMessage( locale, "language." + DBUtils.controlNull( buyer.getLanguage2Const())) + ", ";			if( buyer.getLanguage3Const().intValue() != 0)				language = language + ConfigurationParameterManager.getMessages().getMessage( locale, "language." + DBUtils.controlNull( buyer.getLanguage3Const()));						buyerView.setLanguage( language);						if( ( buyer.getPicture1().intValue() >= 1) && ( buyer.getPicture1Waiting().intValue() == 0)) 				pictureCount ++;			if( ( buyer.getPicture2().intValue() >= 1) && ( buyer.getPicture2Waiting().intValue() == 0))				pictureCount ++;			if( ( buyer.getPicture3().intValue() >= 1) && ( buyer.getPicture3Waiting().intValue() == 0))				pictureCount ++;			if( ( buyer.getPicture4().intValue() >= 1) && ( buyer.getPicture4Waiting().intValue() == 0))				pictureCount ++;			if( ( buyer.getPicture5().intValue() >= 1) && ( buyer.getPicture5Waiting().intValue() == 0))				pictureCount ++;						buyerView.setPictureCount( Integer.toString( pictureCount));						if( buyer.getPositiveVotes().intValue() > ConfigurationParameterManager.getParameterInt( "userLevel.seven")){				buyerView.setUserLevel( "7");			}else if( buyer.getPositiveVotes().intValue() > ConfigurationParameterManager.getParameterInt( "userLevel.six")){				buyerView.setUserLevel( "6");			}else if( buyer.getPositiveVotes().intValue() > ConfigurationParameterManager.getParameterInt( "userLevel.five")){				buyerView.setUserLevel( "5");			}else if( buyer.getPositiveVotes().intValue() > ConfigurationParameterManager.getParameterInt( "userLevel.four")){				buyerView.setUserLevel( "4");			}else if( buyer.getPositiveVotes().intValue() > ConfigurationParameterManager.getParameterInt( "userLevel.three")){				buyerView.setUserLevel( "3");			}else if( buyer.getPositiveVotes().intValue() > ConfigurationParameterManager.getParameterInt( "userLevel.two")){				buyerView.setUserLevel( "2");			}else if( buyer.getPositiveVotes().intValue() > ConfigurationParameterManager.getParameterInt( "userLevel.one")){				buyerView.setUserLevel( "1");			} else {				buyerView.setUserLevel( "0");			}							if( buyer.getContactsSent().intValue() == 0)				buyerView.setContactsAcceptedPercentage( "0");			else				buyerView.setContactsAcceptedPercentage( DBUtils.controlNull( new Double( ((double) buyer.getContactsAccepted().intValue() / ( double) buyer.getContactsSent().intValue()) * 100), 0));					}catch( Exception e) {			e.printStackTrace();			throw new TranslateValueObjectErrorException( object.getClass().getName(), buyerView.getClass().getName(), e);		}				return buyerView;	}}